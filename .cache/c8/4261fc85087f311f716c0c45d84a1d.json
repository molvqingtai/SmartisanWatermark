{"id":"yN8R","dependencies":[{"name":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/package.json","includedInParent":true,"mtime":1539066613450},{"name":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/.babelrc","includedInParent":true,"mtime":1539021763600},{"name":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/color-thief/package.json","includedInParent":true,"mtime":1539014659462},{"name":"canvas","loc":{"line":34,"column":19},"parent":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/color-thief/js/color-thief.js","resolved":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/canvas/lib/canvas.js"},{"name":"fs","loc":{"line":36,"column":15},"parent":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/color-thief/js/color-thief.js","resolved":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/parcel-bundler/src/builtins/_empty.js"},{"name":"process","parent":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/color-thief/js/color-thief.js","resolved":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/process/browser.js"},{"name":"buffer","parent":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/color-thief/js/color-thief.js","resolved":"/Users/molvqingtai/Desktop/project/SmartisanWatermark/node_modules/buffer/index.js"}],"generated":{"js":"var process = require(\"process\");\nvar Buffer = require(\"buffer\").Buffer;\nvar t,r,n,e=require(\"process\"),o=require(\"buffer\").Buffer,i=!1;e&&e.execPath&&(i=!0),i&&(t=require(\"canvas\"),r=t.Image,n=require(\"fs\"));var u=function(e){if(i){this.canvas=new t,(u=new r).src=e instanceof o?e:n.readFileSync(e)}else{this.canvas=document.createElement(\"canvas\"),document.body.appendChild(this.canvas);var u=e}this.context=this.canvas.getContext(\"2d\"),this.width=this.canvas.width=u.width,this.height=this.canvas.height=u.height,this.context.drawImage(u,0,0,this.width,this.height)};u.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},u.prototype.update=function(t){this.context.putImageData(t,0,0)},u.prototype.getPixelCount=function(){return this.width*this.height},u.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},u.prototype.removeCanvas=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)};var s=function(){};if(s.prototype.getColor=function(t,r,n){return!0!==r&&!1!==r||(n=r,r=void 0),this.getPalette(t,5,r,n)[0]},s.prototype.getPalette=function(t,r,n,e){void 0===r&&(r=10),void 0===n&&(n=10);var o=new u(t),i=o.getImageData().data,s=o.getPixelCount(),a=this.getPaletteFromPixels(i,s,r,n,e);return o.removeCanvas(),a},s.prototype.getPaletteFromPixels=function(t,r,n,e,o){for(var i,u,s,a,c=[],f=0;f<r;f+=e)u=t[(i=4*f)+0],s=t[i+1],a=t[i+2],t[i+3]>=125&&((u>250&&s>250&&a>250||!0===o)&&(u>255&&s>255&&a>255||!0!==o)||c.push([u,s,a]));return h.quantize(c,n).palette()},!a)var a={map:function(t,r){var n={};return r?t.map(function(t,e){return n.index=e,r.call(n,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,e,o){return n.index=o,t+r.call(n,e)}:function(t,r){return t+r},0)},max:function(t,r){return Math.max.apply(null,r?a.map(t,r):t)}};var h=function(){var t=5,r=8-t,n=1e3,e=.75;function o(r,n,e){return(r<<2*t)+(n<<t)+e}function i(t){var r=[],n=!1;function e(){r.sort(t),n=!0}return{push:function(t){r.push(t),n=!1},peek:function(t){return n||e(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||e(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||e(),r}}}function u(t,r,n,e,o,i,u){this.r1=t,this.r2=r,this.g1=n,this.g2=e,this.b1=o,this.b2=i,this.histo=u}function s(){this.vboxes=new i(function(t,r){return a.naturalOrder(t.vbox.count()*t.vbox.volume(),r.vbox.count()*r.vbox.volume())})}function h(t,r){if(r.count()){var n=r.r2-r.r1+1,e=r.g2-r.g1+1,i=r.b2-r.b1+1,u=a.max([n,e,i]);if(1==r.count())return[r.copy()];var s,h,c,f,v=0,p=[],l=[];if(u==n)for(s=r.r1;s<=r.r2;s++){for(f=0,h=r.g1;h<=r.g2;h++)for(c=r.b1;c<=r.b2;c++)f+=t[o(s,h,c)]||0;v+=f,p[s]=v}else if(u==e)for(s=r.g1;s<=r.g2;s++){for(f=0,h=r.r1;h<=r.r2;h++)for(c=r.b1;c<=r.b2;c++)f+=t[o(h,s,c)]||0;v+=f,p[s]=v}else for(s=r.b1;s<=r.b2;s++){for(f=0,h=r.r1;h<=r.r2;h++)for(c=r.g1;c<=r.g2;c++)f+=t[o(h,c,s)]||0;v+=f,p[s]=v}return p.forEach(function(t,r){l[r]=v-t}),g(u==n?\"r\":u==e?\"g\":\"b\")}function g(t){var n,e,o,i,u,a=t+\"1\",h=t+\"2\",c=0;for(s=r[a];s<=r[h];s++)if(p[s]>v/2){for(o=r.copy(),i=r.copy(),u=(n=s-r[a])<=(e=r[h]-s)?Math.min(r[h]-1,~~(s+e/2)):Math.max(r[a],~~(s-1-n/2));!p[u];)u++;for(c=l[u];!c&&p[u-1];)c=l[--u];return o[h]=u,i[a]=o[h]+1,[o,i]}}}return u.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){var n,e,i,u=0;for(n=this.r1;n<=this.r2;n++)for(e=this.g1;e<=this.g2;e++)for(i=this.b1;i<=this.b2;i++){u+=r[o(n,e,i)]||0}this._count=u,this._count_set=!0}return this._count},copy:function(){return new u(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(r){var n=this.histo;if(!this._avg||r){var e,i,u,s,a=0,h=1<<8-t,c=0,f=0,v=0;for(i=this.r1;i<=this.r2;i++)for(u=this.g1;u<=this.g2;u++)for(s=this.b1;s<=this.b2;s++)a+=e=n[o(i,u,s)]||0,c+=e*(i+.5)*h,f+=e*(u+.5)*h,v+=e*(s+.5)*h;this._avg=a?[~~(c/a),~~(f/a),~~(v/a)]:[~~(h*(this.r1+this.r2+1)/2),~~(h*(this.g1+this.g2+1)/2),~~(h*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var n=t[0]>>r;return gval=t[1]>>r,bval=t[2]>>r,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},s.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,e,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(t[0]-o.peek(i).color[0],2)+Math.pow(t[1]-o.peek(i).color[1],2)+Math.pow(t[2]-o.peek(i).color[2],2)))<r||void 0===r)&&(r=n,e=o.peek(i).color);return e},forcebw:function(){var t=this.vboxes;t.sort(function(t,r){return a.naturalOrder(a.sum(t.color),a.sum(r.color))});var r=t[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,e=t[n].color;e[0]>251&&e[1]>251&&e[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(c,f){if(!c.length||f<2||f>256)return new s;var v=function(n){var e,i,u,s,a=new Array(1<<3*t);return n.forEach(function(t){i=t[0]>>r,u=t[1]>>r,s=t[2]>>r,e=o(i,u,s),a[e]=(a[e]||0)+1}),a}(c);v.forEach(function(){});var p=function(t,n){var e,o,i,s=1e6,a=0,h=1e6,c=0,f=1e6,v=0;return t.forEach(function(t){e=t[0]>>r,o=t[1]>>r,i=t[2]>>r,e<s?s=e:e>a&&(a=e),o<h?h=o:o>c&&(c=o),i<f?f=i:i>v&&(v=i)}),new u(s,a,h,c,f,v,n)}(c,v),l=new i(function(t,r){return a.naturalOrder(t.count(),r.count())});function g(t,r){for(var e,o=1,i=0;i<n;)if((e=t.pop()).count()){var u=h(v,e),s=u[0],a=u[1];if(!s)return;if(t.push(s),a&&(t.push(a),o++),o>=r)return;if(i++>n)return}else t.push(e),i++}l.push(p),g(l,e*f);for(var b=new i(function(t,r){return a.naturalOrder(t.count()*t.volume(),r.count()*r.volume())});l.size();)b.push(l.pop());g(b,f-b.size());for(var m=new s;b.size();)m.push(b.pop());return m}}}();\"undefined\"!=typeof module&&module.exports&&(module.exports=s);","map":null},"hash":"a7588ff4e0b60a327c57e6932bb5cffd","cacheData":{"env":{}}}